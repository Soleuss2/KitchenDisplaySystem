<!-- Views/Shared/_Loader.cshtml -->
<div id="loader" class="loader-overlay">
    <div class="loader-content">
        <div class="pulse-ring"></div>
        <img src="~/images/logopakpak.png" alt="Kapak Pakpak Logo" />
        <p class="loading-text">Loading<span class="dots"></span></p>
    </div>
</div>

<style>
    .loader-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #fff7ef, #ffe3c1);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        opacity: 1;
        transition: opacity 0.6s ease, visibility 0.6s;
    }

        .loader-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

    .loader-content {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: fadeIn 0.6s ease;
    }

    .pulse-ring {
        position: absolute;
        width: 180px;
        height: 180px;
        border: 3px solid rgba(230, 126, 34, 0.4);
        border-radius: 50%;
        animation: pulseRing 1.8s infinite ease-out;
    }

    .loader-content img {
        width: 150px;
        height: auto;
        z-index: 2;
        animation: popIn 0.8s ease forwards;
    }

    .loading-text {
        margin-top: 1.2rem;
        font-size: 1.2rem;
        font-weight: 600;
        color: #d35400;
        letter-spacing: 1px;
        text-transform: uppercase;
        animation: fadeText 1.5s ease-in-out infinite alternate;
    }

    .dots::after {
        content: "";
        animation: dots 1.5s steps(4, end) infinite;
    }

    /* --- Animations --- */
    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: scale(0.95);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @@keyframes popIn {
        0% {
            transform: scale(0.8);
            opacity: 0;
        }

        100% {
            transform: scale(1);
            opacity: 1;
        }
    }

    @@keyframes pulseRing {
        0% {
            transform: scale(0.6);
            opacity: 0.7;
        }

        100% {
            transform: scale(1.8);
            opacity: 0;
        }
    }

    @@keyframes fadeText {
        from {
            opacity: 0.6;
        }

        to {
            opacity: 1;
        }
    }

    @@keyframes dots {
        0%, 20% {
            content: "";
        }

        40% {
            content: ".";
        }

        60% {
            content: "..";
        }

        80%, 100% {
            content: "...";
        }
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const loader = document.getElementById("loader");
        if (loader) {
            // Slight delay for animation
            setTimeout(() => loader.classList.add("hidden"), 1200);
        }
    });
</script>
